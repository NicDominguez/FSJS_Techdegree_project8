extends layout.pug

block content
    h1 Books
    p
        a.button(href="/books/new") Create New Book
    form(method="post")
        p
            input(type="search", id="bookSearch", name="bookSearch", placeholder="Search for a book")
            input(type="submit" value="Search")
    table
        thead
            tr
                th Title
                th Author
                th Genre
                th Year
        tbody
        if searchedBooks
            each book in searchedBooks.rows
                tr
                    td
                        a(href="/books/" + book.id)= book.title
                    td= book.author
                    td= book.genre
                    td= book.year
        else
            each book in allBooks
                tr
                    td
                        a(href="/books/" + book.id)= book.title
                    td= book.author
                    td= book.genre
                    td= book.year
    if allBooks.length > 10
        a.button Prev
        a.button Next